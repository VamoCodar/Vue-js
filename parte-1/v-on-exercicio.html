<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">



    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

    <title>Vue JS</title>
</head>

<body>



    <div id="app">

        <ul class="ml-3">
            <li><a @click.prevent="handleClick" href="https://api.origamid.dev/stock/aapl/quote">Apple</a></li>
            <li><a @click.prevent="handleClick" href="https://api.origamid.dev/stock/googl/quote">Google</a></li>
            <li><a @click.prevent="handleClick" href="https://api.origamid.dev/stock/amzn/quote">Amazon</a></li>
            <li><a @click.prevent="handleClick" href="https://api.origamid.dev/stock/ebay/quote">Ebay</a></li>
            <li><a @click.prevent="handleClick" href="https://api.origamid.dev/stock/pypl/quote">Paypal</a></li>
        </ul>
        <div class="ms-3">
            <h2 class="mt-5 d-block">Dados</h2>
            <hr>
            <p>companyName: <strong>{{dados.companyName}}</strong></p>
            <p>latestPrice: {{dados.latestPrice}}</p>
            <p>marketCap: {{dados.marketCap}}</p>
        </div>

    </div>

    <script>
        const vm = new Vue({
            el: "#app",

            data: {
                dados: {}

            },

            methods: {

                handleClick(evt) {
                    let link = evt.target.href

                    fetch(link)
                        .then(r => r.json())
                        .then(json => this.dados = json)
                }

            }
        })


        /* 
            Utilizando API
            https://api.origamid.dev/stock/aapl/quote

            Adicione um evento de clique a cada <a> do html
            acima e previna o comportamento padrão.

            Faça o fetch dos dados do href ao click e mostre na
            interface o companyName, latestPrice, marketCap
         */
    </script>




</body>

</html>